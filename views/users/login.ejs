<% layout('./layouts/boilerplate.ejs') %>

  <div class="container col-md-9 d-flex justify-content-center align-items-center " style="height:70vh">
    <div class="row justify-content-center w-100">
      <div class="col-xs-4 col-md-4 col-lg-6">
        <form class="p-4 shadow rounded bg-white" method="POST" action="/Users/<%= dest %>">
          <h3 class="text-center mb-4">
            <%= dest==='login' ? 'Login' : 'Register' %>
          </h3>

          <!-- Username -->
          <div class="mb-3">
            <label for="username" class="form-label">Username</label>
            <div class="input-group">
              <span class="input-group-text" id="visible-addon">@</span>
              <input type="text" class="form-control" id="username" name="user[username]" placeholder="Enter username"
                required>
            </div>
          </div>

          <!-- Password -->
          <div class="mb-3">
            <label for="password" class="form-label">Password</label>
            <div class="input-group">
              <input type="password" class="form-control" id="password" name="user[password]"
                placeholder="Enter password" required>
              <button class="btn btn-outline-secondary toggle-btn" type="button" data-target="password">
                <i class="bi bi-eye-slash"></i>
              </button>
            </div>
          </div>
          <% if(dest!='login' ){ %>


            <div class="mb-3">
              <label for="password2" class="form-label">Confirm Password</label>
              <div class="input-group">
                <input type="password" class="form-control" id="password4" placeholder="Confirm password"
                  name="user[confirmpassword]">
                <button class="btn btn-outline-secondary toggle-btn" type="button" data-target="password4">
                  <i class="bi bi-eye-slash"></i>
                </button>
              </div>
            </div>

             <div class="mb-3">
            <label for="email" class="form-label">Email</label>
            <div class="input-group">
              <input type="email" class="form-control" name="user[email]"
                placeholder="Enter your email" required>
            </div>

          </div>
            <% } %>


              <!-- Remember Me -->
              <div class="mb-3 form-check">
                <input type="checkbox" class="form-check-input" id="rememberMe">
                <label class="form-check-label" for="rememberMe">Remember me for a month</label>
              </div>

              <!-- Submit -->
              <button type="submit" class="btn btn-primary w-100 mb-3">
                <%= dest==='login' ? 'Login' : 'Register' %>
              </button>

              
                <button type="button" id="forgot" class="btn btn-primary w-100">
                   Forgot Password
              </button>
        </form>
      </div>
    </div>
  </div>


<script>
    const button=document.getElementById("forgot");
    button.addEventListener("click",(e)=>{
           e.preventDefault();
           window.location.href="/Users/forgot";
    })
</script>